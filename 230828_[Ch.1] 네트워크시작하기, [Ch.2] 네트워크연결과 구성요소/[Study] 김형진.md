1. 네트워크 구성도와 요약

1) 네트워크는 크게 서비스를 받는 입장(클라이언트)과 서비스를 제공하는 입장(서버)로 나뉩니다. 자주 사용되는 물리적 연결 기술과 구성요소로는
홈 네트워크와 데이터 센터 네트워크가 있습니다.

홈 네트워크를 구성하는데에는 모뎀, 공유기, 단말 간에 물리적 연결이 필요합니다.
![Alt text](<홈 네트워크 구성도-1.PNG>)

데이터 센터 네트워크는 안정적이고 빠른 대용량 서비스 제공을 목표로 구성합니다. 안정적인 서비스 제공을 위해 다양한 이중화 기술을 사용해야 하고 많은 서버와 서비스가 한 네트워크에 연결되어있으므로 높은 통신량을 수용 할 수 있어야 합니다. 이런 조건을 만족하기 위해 10G, 25G, 40G, 100G, 400G와 같은 고속 이더넷 연결이 사용됩니다. 이러한 데이터 센터 구성은 기존에는 3계층 구성이 일반적이었지만 가상화 기술과 높은 대역폭을 요구하는 스케일 아웃Valc-Out） 기반의 애플리케이션과 서비스가 등장하면서 2계층 구성인 스파인-리프（Spinc-LcuD 구조로 데이터 센터 네트워크가 변화되었습니다.
![Alt text](image.png)


2) 프로토콜

프로토콜은 네트워크에서 통신할때 사용되는 규약으로써 최근에는 복잡하고 산재되어 있던 여러 가지 프로토콜 기술이 이더넷-TCP/IP 기반 프로토콜들로 변경되고 있습니다.
• 물리적 측면: 데이터 전송 매체, 신호 규약, 회선 규격 등. 이더넷이 널리 쓰인다.
• 논리적 측면: 장치들끼리 통신하기 위한 프로토콜 규격. TCP/IP가 널리 쓰인다.

프로토콜이라는 것은 자연어로 불리는 일반 언어와 유사하게 사용되면 이해하기 좋을텐데 한정된 자원으로 통신을 수행해야 하다 보니 대부분의 프로토콜이 문자 기반이 아닌 2진수 비트(bit) 기반으로 만들어졌습니다. . 물론 애플리케이션 레벨의 프로토콜은 비트 기반이 아닌 문자 기반 프로토콜들이 많이 사용되고 있
습니다. HTTP와 SMTP와 같은 프로토콜이 대표적입니다. 비트로 메시지를 전달하지 않고 문자 자체를 이용해 헤더와 헤더 값，데이터를 표현하고 전송합니다.

3) 인캡슐레이션과 디캡슐레이션

상위 계층에서 하위 계층으로 데이터를 보내면 물리 계층에서 전기 신호로 네트워크를 통해 신호를 보냅니다. 받는 쪽에서는 다시 하위 계층에서 상위 계층으로 데이터를 보냅니다. 이렇게 데이터를 보내는 과정을 인캡슐레이션(Encapsulation), 받는 과정을 디캡슐레이션(Decapsulation)이라고 부릅니다.

![Alt text](image-1.png)

정리하면 실제 데이터는 상위 계층 一 하위 계층, 하위 계층 一 상위 계층으로 전달되고 헤더 정보는 각 계층끼리 전달됩니다.

그 과정에서 이 헤더에 두 가지 정보는 반드시포함되어야 합니다.
1. 현재 계층에서 정의하는 정보
2. 상위프로토콜지시자
현재 계층에서 정의하는 정보는 앞에서 다루었던 OSI 7계층의 각 계층에서의 목적에 맞는 정보들이 포함됩니다. 4계층의 목적은 큰 데이터를 잘 분할하고 받는 쪽에서는 잘 조립하는 것입니다. 그러다 보니 잘 분할하고 잘 조립하도록 데이터에 순서를 정하고 받은 패킷의 순서가 맞는지, 빠진 패킷은 없는지 점검하는 역할이 중요하며 이 정보를 헤더에 적어 넣게 됩니다.






2. 네트워크 연결 구분

• LAN (Local Arvu Network)
- 사용자 내부 네트워크
• MAN (Metro Art-.i Xctwork)
- 한 도시 정도를 연결하고 관리하는 네트워크
• WAN ('X ide Area Network)
- 멀리 떨어진 LAN을 연결해주는 네트워크

현재는 대부분의 기술이 이더넷으로 통합되면서 사용자가 전송 기술을 구분하는 것은 무의미해져 관리 범위 기준으로 LAN, MAN. WAN을 구분합니다.

![Alt text](image-2.png)

1) LAN
LAN은 Local Area Network의 약자로 홈 네트워크용과 사무실용 네트워크처럼 비교적 소규모의 네트워크를 말합니다. 먼 거리를 통신할 필요가 없어 스위치와 같이 비교적 간단한 장비로 연결된 네트워크를 LAN이라고 불러왔습니다. 소모 비용. 신뢰도，구축 및 관리를 위해 다른 다양한 기술이 사용되지만 현재는 대부분 이더넷 기반 전송 기술을 사용합니다.

2) WAN
WAN은 Wide Area Network의 약자로 먼 거리에 있는 네트워크를 연결하기 위해 사용합니다. 멀리 떨어진 LAN을 서로 연결하거나 인터넷에 접속하기 위한 네트워크가 WAN에 해당합니다. WAN은 특별한 경우가 아니면 직접 구축할 수 없는 범위의 네트워크이므로 대부분 통신사업자(KT, LGU+, SKB)로부터 회선을 임대해 사용합니다. 자신이 소유한 땅이나 건물이 아닌 곳을 지나 원격지로 통신해야 할 때 사용하며 사용계약에 의해 비용이 부과됩니다.

3) MAN
MAN은 용어가 의미하는 대로 수〜수십 km 범위의 한 도시를 네트워크로 연결하는 개념입니다. 일반적으로 도시 단위의 네트워크를 구분할 때는 통신사가 이미 갖고 있는 인프라 기반으로 네트워크를 구축하면 WAN, 자체 인프라를 통해 네트워크를 구축하면 MAN으로 구분하기도 합니다.






3. 네트워크 회선

인터넷 회선

인터넷 접속을 위해 통신사업자와 연결하는 회선을 인터넷 회선이라고 부릅니다. 통신사업자와 케이블만 연결한다고 인터넷이 가능한 것이 아니라 통신사업자가 판매하는 인터넷과 연결된 회선을 사용해야만 인터넷 접속이 가능합니다. 

전용 회선

가입자와 통신사업자 간에 대역폭을 보장해주는 서비스를 대부분 전용 회선이라고 부릅니다. 대역폭을 보장해주는 기술에는 여러 가지가 있지만 가입자와 통신사업자 간에는 전용 케이블로 연결되어 있고 통신사업자 내부에서 TDM（시분할 다중화: Time Division Multiplexing） 같은 기술로 마치 직접 연결한 것처럼 통신 품질을 보장해줍니다.

인터넷 전용 회선

인터넷 연결 회선에 대한 통신 대역폭을 보장해주는 상품을 인터넷 전용 회선이라고 합니다. 가입자가 통신사업자와 연결되고 이 연결이 다시 인터넷과 연결되는 구조입니다. 인터넷 전용 회선은 가입자가 일반가정에서 사용하는 접속 기술과 달리 다른 가입자와 경쟁하지 않고 통신사업자와 가입자 간의 연결 품질을 보장해줍니다.

VPN

VPN은 Virtual Private Network의 약자로 물리적으로는 전용선이 아니지만 가상으로 직접 연결한 것 같은 효과가 나도록 만들어주는 네트워크 기술입니다.

1) 통신사업자 VPN

전용선은 연결 거리가 늘어날수록 비용이 증가합니다. 비용 낭비를 줄이고 먼 거리와 연결하더라도 비용을 줄이기 위해 통신사업자가 직접 가입자를 구분할 수 있는 VPN 기술을 사용해 비용을 낮추고 있습니다. 가장 대표적인 기술이 MPLS VPN 입니다.


2) 가입자 VPN

일반 사용자가 VPN을 사용한다면 대부분 가입자 VPN 기술입니다. 일반 인터넷망을 이용해 사용자가 직접 가상 전용 네트워크를 구성할 수 있습니다. 지방이나 해외를 전용선으로 연결하면 비용이 매우 비싸고 앞에서 알아본 MPLS VPN 기술을 이용한 회선도 일반 인터넷 연결 비용보다 비쌉니다. 그래서 비용을 더 낮추기 위해 일반 인터넷 연결을 이용한 VPN을 사용합니다.






4. 네트워크 구성 요소


1) 네트워크 인터페이스 카드(NIC)

흔히 랜 카드라고 부르는 부품의 정식 명칭은 네트워크 인터페이스 카드입니다. 이외에도 네트워크 카드, 네트워크 인터페이스 컨트롤러라고도 부릅니다. 네트워크 인터페이스 카드는 컴퓨터를 네트워크에 연결하기 위한 하드웨어 장치입니다.

네트워크 인터페이스 카드의 주요 역할은 다음과 같습니다.

• 직렬화
네트워크 인터페이스 카드는 전기적 신호를 데이터 신호 형태로 또는 데이터 신호 형태를 전기적 신호 형태로 변환해줍니다. 네트워크 카드 외부 케이블에서는 전기 신호 형태로 데이터가 전송되는데 이런 상호 변환작업을 직렬화라고 합니다.

• MAC 주소
네트워크 인터페이스 카드는 MAC 주소를 가지고 있습니다. 받은 패킷의 도착지 주소가 자신의 MAC 주소가 아니면 폐기하고 자신의 주소가 맞으면 시스템 내부에서 처리할 수 있도록 전달합니다.

• 흐름 제어
패킷 기반 네트워크에서는 다양한 통신이 하나의 채널을 이용하므로 이미 통신 중인 데이터 처리 때문에 새로운 데이터를 받지 못할 수 있습니다. 이런 현상으로 인한 데이터 유실 방지를 위해 데이터를 받지 못할 때는 상대방에게 통신 중지를 요청할 수 있습니다. 이 작업을 흐름 제어라고 합니다.

2) 케이블과 커넥터

케이블은 트위스티드 페어 케이블, 동축 케이블, 광케이블 3가지가 있습니다.
3가지 케이블 모두 케이블을 연결해야 하는 거리나 속도에 따라 다양한 케이블이 있고 용도에 맞게 사용됩니다. 이런 다양한 케이블을 모두 알 수는 없으므로 원하는 환경에 맞는 케이블을 올바로 선택하려면 케이블을 구성하는 기본 요소와 표준을 알아야 합니다.

커넥터
커넥터는 케이블의 끝부분으로 네트워크 장비나 네트워크 카드에 연결되는 부분입니다. 트위스티드 페어 케이블에서는 RJ-45 커넥터를 사용하지만 광케이블은 다양한 커넥터가 있습니다

트랜시버
트랜시버는 다양한 외부 신호를 컴퓨터 내부의 전기 신호로 바꾸어줍니다. 트랜시버가 별도로 구분되지 않던 과거에는 다양한 이더넷 표준과 케이블을 만족하기 위해 네트워크 장비나 NIC를 별도로 구매해야 했습니다. 케이블이 변경되면 네트워크 장비와 네트워크 카드도 함께 변경해야 하는 문제를 해결하고 서로 다른 다양한 네트워크 표준을 혼용해 사용할 수 있도록 트랜시버를 사용합니다.


3) 허브

허브는 케이블과 동일한 1 계층에서 동작하는 장비입니다. 허브는 거리가 멀어질수록 줄어드는 전기 신호를 재생성해주고 HUB라는 용어 그대로 여러 대의 장비를 연결할 목적으로 사용됩니다. 허브는 단순히 들어온 신호를 모든 포트로 내보내 네트워크에 접속된 모든 단말이 경쟁하게 되므로 전체 네트워크 성능이 줄어드는 문제가 있고 패킷이 무한 순환해 네트워크 전체를 마비시키는 루프와 같은 다양한 장애의 원인이 되어 허브는 현재 거의 사용되지 않고 있습니다.


4) 스위치

스위차는 허브와 동일하게 여러 장비를 연결하고 통신을 중재하는 2계층 장비입니다. 허브와 스위치는 내부 동작 방식은 다르지만 여러 장비를 연결하고 케이블을 한곳으로 모아주는 역할은 같으므로 ‘허브’라는 용어를 공통적으로 사용합니다. 스위치는 허브의 역할과 통신을 중재하는 2가지 역할을 모두 포함하므로 스위칭 허브로도 불립니다. 허브는 단순히 전기 신호를 재생성해 출발지를 제외한 모든 포트에 전기 신호를 내보내지만 스위치는 허브와 달리 MAC 주소를 이해할 수 있어 목적지 MAC 주소의 위치를 파악하고 목적지가 연결된 포트로만 전기 신호를 보냅니다.

5) 라우터

네트워크 크기가 점점 커지고 먼 지역에 위치한 네트워크와 통신해야 하는 요구사항이 늘어나면서 라우터가 필요해졌습니다. 라우터는 OSI 7계층 중 3계층에서 동작하면서 먼 거리로 통신할 수 있는 프로토콜로 변환합니다. 라우터는 원격지로 쓸데없는 패킷이 전송되지 않도록 브로드캐스트와 멀티캐스트를 컨트롤하고
불분명한 주소로 통신을 시도할 경우 이를 버립니다. 정확한 방향으로 패킷이 전송되도록 경로를 지정하고 최적의 경로로 패킷을 포워딩합니다.

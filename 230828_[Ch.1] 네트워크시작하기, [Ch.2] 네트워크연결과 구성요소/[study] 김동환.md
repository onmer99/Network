# 2장 네트워크 연결과 구성요소

## 2-1. 네트워크 연결 구분 - 규모, 관리 범위에 따른 분류

- 규모에 따른 분류
    - LAN(Local Area Network) : 사용자 내부 네트워크
    - MAN(Metro Area Network) : 한 도시 정도를 연결하고 관리하는 네트워크
    - WAN(Wide Area Network) : 멀리 떨어진 “LAN”을 연결해주는 네트워크
        
        → 규모 및 관리범위 : LAN < MAN < WAN
        
        → MAN은 한 도시단위를 네트워크로 연결하는 개념이지만, 이미 통신사가 갖고있는 인프라 기반으로 네트워크를 구축하면 WAN으로 분류한다
        
- LAN
    - 홈 네트워크, 사무실용 네트워크처럼 보통 하나의 건물이나 캠퍼스 내에서 사용되는 네트워크를 의미한다
    - LAN의 전송 기술
        - 먼 거리를 통신할 필요가 없어서 스위치와 같은 간단한 장비로 연결됨
        - 현재는 대부분 이더넷 기반 전송기술을 사용함
    - LAN의 관리 범위
        - 자신이 소유한 건물이나 대지에, 직접 구축한 선로로 동작시키는 네트워크

- WAN
    - 멀리 떨어진 LAN을 서로 연결하거나, 인터넷에 접속하기 위한 네트워크
    - WAN의 전송 기술
        - 특별한 경우를 제외하고는 직접 구축할 수 없음
        - 따라서 통신 사업자(KT, LG u+, SKB)로부터 회선을 임대해서 사용함
    - WAN의 관리 범위
        - 자신이 소유한 땅이나 건물이 아닌 곳을 지나 원격지로 통신해야 할 때 사용

## 2-2. 네트워크 회선

- 네트워크 회선이란?
    - 두 네트워크 장치가 통신할때, 데이터를 전송하는 통로나 경로를 말한다.
    - 물리적 회선, 무선 회선, 가상 회선이 존재한다 → 단순히 ‘물리적인 통로’만을 말하는것이 아니다!
                                                                         → 데이터가 한 장소에서 다른 장소로 이동할 수 있는 경로나 메커니즘이라 생각해야 함

1. 물리적 네트워크 회선
    - 인터넷 회선
        - 인터넷 접속을 위해 통신 사업자와 연결하는 회선
        - 일반 가정에서 사용하는 회선으로, 인터넷 전용 회선과는 다른것임
        - 가입자-통신사업자가 직접 연결되는 구조가 아니라, 전송 선로 공유 기술을 사용
        따라서 전송 가능한 최대 속도를 보장하지 않음(주변 사용량에 따라 속도가 달라짐)
        → 아파트-통신사업자가 회선을 연결
            
            → 아파트 가입자가 아파트-통신사업자 회선을 공유해서 사용함
            
        - 예시 : 광랜(이더넷), FTTH, 동축 케이블 인터넷, xDSL(ADSL, VDSL 등)
        
    - 전용 회선
        - 가입자-통신사업자 간에 대역폭(단위 시간당 전송할 수 있는 데이터 양)을 보장해주는 서비스를 말함
        - 가입자-통신사업자 간에는 전용 케이블로 연결되어 있고, 통신 사업자 내부에서 TDM(Time Division Multiplexing)같은 기술을 사용해서 퉁신 폼질을 보장
        - 전송기술
            1. 저속 : 음성 전송 기술 기반
            - 작은 기본 단위를 묶어, 회선 접속 속도를 높이는 방법
            - 높은 속도가 필요하지 않거나 높은 신뢰성이 필요할 때 사용
            - 원격지 전송 기술로 변환할 수 있는 라우터가 필요
            2. 고속 : 메트로 이더넷
            - 광케이블 기반의 이더넷을 사용
            - 가입자-통신사업자는 이더넷을 사용, 통신사업자 내부에서는 다른 고속 통신 기술을 사용
            - LLCF 설정을 하지 않는다면, 한쪽에서 에러가 나더라도 반대쪽에서 감지하지 못함
            - 인터넷 전용 회선에서 많이 쓰임          
![image](https://github.com/spharos3rd-CatchYou/Network/assets/108791919/53d8e63c-0087-43cc-8b21-decc92d0da95)

    - DWDM (Dense Wavelength Division Multiplex, 파장 분할 다중화)
        - 하나의 광케이블에 다른 파장의 빛을 통해 여러 채널을 만드는 동시에 많은 데이터를 전송할 수 있게 해줌
    
2. 무선 네트워크 회선
    - Wi-Fi (Wireless Fidelity)
    - Cellular Networks
    - Bluetooth
    - NFC
    - RFID

1. 가상 네트워크 회선
    - VPN (Virtual Private Network)
        - 직접 연결된 것이 아니지만, 가상으로 직접 연결된 것 같은 효과가 나도록 만들어주는 네트워크 기술
        - 통신사업자 VPN
        - MPLS VPN을 주로 사용
        - 여러 가입자가 하나의 MPLS 망에 접속되지만, 가입자를 구분할 수 있는 기술을 적용하여 전용선처럼 사용 
        - 여러 가입자가 하나의 망에 접속해 통신함으로 비용이 낮아짐
        - 일반 전용선 연결과 동일한 접속 기술을 사용
        - 가입자 VPN
        - 일반 인터넷망을 이용해 사용자가 직접 가상 전용 네트워크를 구성

## 2-3. 네트워크 구성요소 - 물리적 구성요소

1. 네트워크 인터페이스 카드(NIC)
    - 흔히 부르는 랜 카드
    - 컴퓨터를 네트워크에 연결하기 위한 하드웨어 장치
    - 주요 역할
        - 직렬화(Serialization)
        : 전기적 신호 ↔ 데이터 신호로 변환시키는 역할
        - MAC 주소
        : 수신하는 패킷의 목적지 주소가, 랜카드 자신의 MAC 주소와 다르다면 폐기하는 역할
        - 흐름 제어
        : 패킷 기반 네트워크에서는 통신중에 하나의 채널을 이용하므로, 이미 통신중인 데이터 처리 때문에 새로운 데이터를 받지 못할 수 있음
          이때 데이터 유실 방지를 막기위해서, 데이터를 받지 못할 때 상대방에게 통신 중지를 요청하는 것
        
2. 케이블과 커넥터
    - 케이블
        - 트위스티드 페어 케이블
        - 동축 케이블
        - 광케이블 : 다른 케이블보다 신뢰도가 높고 더 먼 거리까지 통신할 수 있어서, 높은 대역폭을 요구하거나 먼 거리를 통신해야할 때 사용
    - 커넥터 : 케이블의 끝 부분, 네트워크 장비나 네트워크 카드에 연결되는 부분
    - 트랜시버 : 다양한 외부 신호를 컴퓨터 내부의 전기 신호로 바꾸어 주는 역할
    
3. 허브
    - 1계층 장비
    - 전기신호 재생성, 여러 대의 장비를 연결 하는 역할
    - 송수신을 동시에 할 수 없고, 한쪽 방향으로만 동작
    - 하지만, 들어온 신호를 모든 포트로 내보내서 전체 네트워크 성능이 줄어드는 문제와, 패킷 무한 순환 문제 때문에 현재는 거의 사용하지 않음
    
4. 스위치
    - 2계층 장비
    - 여러 대의 장비를 연결, 통신을 중재하는 역할
    - 송수신을 동시에 할 수 있고, 양쪽으로 동작
    - 허브와 다르게 목적지 MAC 주소의 위치를 파악하고, 목적지가 연결된 포트로만 전기 신호를 보냄
    
5. 라우터
    - 3계층 장비
    - 정확한 방향으로 패킷이 전송되도록, 최적의 경로로 패킷을 보냄
    - 원격지로 쓸데없는 패킷이 전송되지 않도록 브로드캐스트와 멀티캐스트를 컨트롤
    - 불분명한 주소로 통신을 시도할 경우, 이를 폐기
    - 비슷한 역할을 하는 장치로는 L3 스위치와 공유기가 있음
    
6. 로드 밸런서
    - 4계층 장비
    - 포트 주소 확인 및 IP 주소 변경의 역할을 하고, 주로 웹에서 많이 쓰임
        
        → 웹 서버를 여러 대 사용하여 통신할때, 대표 IP 주소는 로드밸런서가 가지고 각 웹서버로 패킷의 목적지 IP 주소를 변경해서 보내줌
        
    - 헬스 체크 기능, 대용량 세션 처리 기능 등이 있음
    
7. 보안 장비(방화벽/IPS)
    - 네트워크 장비처럼 정확한 정보 전달이 목적이 아닌, 정보를 제어하고 공격을 방어하는데에 초점이 맞추어짐
    - 여러가지 장비가 있지만, 대표적인 장비인 방화벽은 4계층에서 동작함
    
8. 기타(모뎀/공유기 등)
    - 공유기 : 2계층의 스위치 + 3계층의 라우터 + 4계층의 NAT, 방화벽 기능을 한곳에 모아놓은 장비
    - 모뎀 : 짧은 거리를 통신하는 기술과, 먼 거리를 통신할 수 있는 기술들이 다르기 때문에, 필요할 때 이들을 변환해주는 장비

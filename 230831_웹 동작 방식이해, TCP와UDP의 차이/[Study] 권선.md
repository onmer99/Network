**Q: 공인(public) IP와 사설(private) IP의 차이에 대해 설명해주세요.**

**A:**

공인IP(Public IP): 전 세계에서 유일한 IP주소

사설IP(Private IP): 특정 네트워크 내에서만 사용되는 IP주소

**IANA (Internet Assigned Numbers Authority)**: 이것은 전 세계적으로 IP 주소를 관리하는 최상위 기관, IP 주소, 도메인 이름, 그리고 AS 번호 (Autonomous System Numbers)의 할당과 배포를 관리

**지역 인터넷 레지스트리 (RIR)**: IANA는 지역 인터넷 레지스트리 (RIR)에 IP 주소 블록을 할당, RIR들은 다시 그들의 지역 (예: 아시아, 유럽, 북아메리카 등)의 ISP (인터넷 서비스 공급자) 및 네트워크 운영자에게 IP 주소를 할당

1. **ARIN (American Registry for Internet Numbers):** 북아메리카 지역 (미국, 캐나다, 일부 카리브해 국가)에 IP 주소 및 AS 번호를 할당
2. **RIPE NCC (Réseaux IP Européens Network Coordination Centre):** 유럽, 중동, 중앙 아시아 지역에 IP 주소 및 AS 번호를 할당
3. **APNIC (Asia-Pacific Network Information Centre):** 아시아-태평양 지역 (아시아 및 오세아니아)에 IP 주소 및 AS 번호를 할당
4. **LACNIC (Latin America and Caribbean Network Information Centre):** 라틴아메리카 및 카리브해 지역에 IP 주소 및 AS 번호를 할당
5. **AFRINIC (African Network Information Centre):** 아프리카 지역에 IP 주소 및 AS 번호를 할당

**ISP (Internet Service Provider)**: ISP는 RIR로부터 IP 주소를 받아, 그것들을 소비자나 기업에 할당

IANA는 각 RIR에게 큰 블록의 IP 주소를 할당 → RIR는 그들의 지역내의 ISP들과 큰 기업들에게 그 주소들의 하위 집합을 할당 → ISP는 그들의 고객들 (소비자 및 소기업)에게 IP 주소를 할당

IP 주소의 버전

**IPv4: 가장 널리 사용되는 IP 버전, 32비트로 구성, 2^32, 즉 약 43억개의 유일한 주소를 만듦, 지금은 거의 소진**

**IPv6: IPv4의 후속 버전, 128비트로 구성, 총 2^128, 즉 약 3.4x10^38개의 유일한 주소를 만듦**

IP 주소 할당 예시

IANA -> APNIC: 203.0.0.0 - 203.255.255.255

APNIC -> ISP: 203.0.1.0 - 203.0.1.255

ISP -> 고객: 203.0.1.1 - 203.0.1.10

IP 주소 개수

IPv4: 0~255 → 2^8 ⇒ (2^8)^4 = 2^32

IPv6: 0~FFFF → 2^16 ⇒ (2^16)^8 = 2^128 = 3.4*10^38

IPv6의 축약 규칙

**앞자리에 있는 0들을 생략**

**0으로만 구성된 한 개 이상의 그룹들을 '::'로 대체**

:: ~ ::1 ~ ::FFFF ~ 

NAT(Network Address Translation): 사설 IP 주소를 공인 IP 주소로 변환하거나 그 반대로 변환하는 기술, 주로 라우터에 구현되어 있으며, 여러 개의 기기가 하나의 공인 IP 주소를 공유할 수 있도록 해줌, 사설 IP 주소와 포트 번호를 공인 IP 주소와 포트 번호로 변환, 변환 정보를 NAT 테이블에 저장

여러 기기가 인터넷에 접속해야 한다고 가정 → 각각의 기기는 사설 IP 주소를 할당 → 인터넷상에서는 공인 IP 주소를 사용 → 가정에서는 ISP로부터 하나의 공인 IP 주소만 할당 → NAT를 사용하여 모든 기기가 하나의 공인 IP 주소를 공유하면서 인터넷에 접속

- 노트북(사설 IP: 192.168.1.2, 포트: 3000)이 인터넷상의 어떤 서버(예: 203.0.113.1, 포트: 80)에 접속, NAT 장비는 이 패킷의 출발지 주소를 공인 IP 주소(예: 203.0.1.1, 포트: 40000)로 변환, 이 변환 정보를 NAT 테이블에 저장
- 서버로부터 응답이 돌아오면, NAT 장비는 NAT 테이블을 참조하여 패킷의 목적지 주소를 사설 IP 주소(192.168.1.2, 포트: 3000)로 변환, 이 패킷을 노트북으로 전송

라우터: OSI 모델의 네트워크 계층(layer 3)에 위치, 네트워크 계층에서 IP 패킷을 처리, 라우터는 이 패킷들을 적절한 목적지로 전송

공인 ip를 할당 받고 사설 ip로 분할하는 역할

라우팅 테이블:

1. **목적지 IP 주소**: 패킷이 전달될 목적지의 IP 주소 또는 IP 주소의 범위.
2. **넥스트 홉**: 목적지에 패킷을 전달하기 위해 다음으로 이동해야 하는 IP 주소.
3. **메트릭**: 넥스트 홉까지의 거리나 비용. 이것은 패킷을 전달하기 위한 여러 가능한 경로 중에서 최적의 경로를 선택하는 데 사용

**정적 라우팅**: 네트워크 관리자가 수동으로 라우팅 테이블을 설정

**동적 라우팅**: 네트워크의 변화를 자동으로 감지하고 라우팅 테이블을 자동으로 업데이트, 동적 라우팅 프로토콜(예: RIP, OSPF, BGP)은 라우터가 자신의 라우팅 테이블을 자동으로 업데이트하고 다른 라우터와 정보를 공유하는 데 사용

패킷: 컴퓨터 네트워크에서 데이터를 전송할 때, 그 데이터를 작은 단위로 나눈 것, 네트워크를 통해 목적지로 전송, 목적지에서 다시 원래의 데이터로 조립

10MB 파일을 1KB 크기의 패킷으로 나누어 전송, 실제 전송되는 데이터의 크기는 헤더들의 크기만큼 커짐

IP 패킷: 

- **헤더**: 패킷의 메타데이터를 포함. 예를 들어, 소스 IP 주소, 목적지 IP 주소, TTL (Time to Live), 프로토콜, 길이, 체크섬 등이 포함
- **페이로드 (Payload)**: 실제 전송하려는 데이터. 이것은 다양한 프로토콜의 메시지나 사용자 데이터가 될 수 있음. 예를 들어, TCP 세그먼트, UDP 데이터그램, ICMP 메시지 등이 포함

IP 사용 이유: 인터넷 상의 데이터 통신

1. **기기 식별**: 네트워크에 연결된 모든 기기는 자신만의 고유한 IP 주소를 가져야 함. 이것은 다른 기기들이 그것을 찾고, 그와 통신할 수 있게 함.
2. **데이터 전송**: 데이터 패킷이 목적지에 정확하게 도달하려면, 출발지 IP 주소와 목적지 IP 주소가 필요. 이것은 인터넷 상에서 데이터를 전송할 때, 라우터들이 패킷을 어디로 보내야 하는지를 결정할 수 있게 함.
3. **경로 찾기**: 인터넷은 전세계에 퍼져있는 수많은 라우터와 서버로 구성되어 있음. 데이터 패킷이 출발지에서 목적지까지 가는 동안, 이들 라우터들은 패킷의 목적지 IP 주소를 기반으로, 그것을 다음 목적지로 전송하는 결정을 함.

**Q: Connection Timeout과 Read Timeout의 차이에 대해 설명해주세요.**

**A:**

네트워크 통신에서 중요한 파라미터로, 클라이언트와 서버 간의 통신을 제어

**Connection Timeout**: 클라이언트가 서버에 연결을 시도하는 동안 기다릴 시간, 이 시간 동안 연결이 이루어지지 않으면 클라이언트는 연결 시도를 중지하고 타임아웃 에러를 반환, 서버의 응답 시간이 느리거나 네트워크 지연이 심할 때 특히 중요

**Read Timeout**: 클라이언트가 서버에 연결된 후, 서버로부터 데이터를 받기 위해 기다릴 시간, 이 시간 동안 데이터가 수신되지 않으면 클라이언트는 읽기 시도를 중지하고 타임아웃 에러를 반환, 서버가 데이터를 처리하고 응답하는 데 시간이 걸릴 때 중요

일반적으로 클라이언트 측 애플리케이션에서 설정

프로그래밍 언어(예: Python, Java, JavaScript 등): HTTP 클라이언트 라이브러리를 사용하여 **`Connection Timeout`**과 **`Read Timeout`**을 설정

**API 클라이언트**: 일부 API 클라이언트 도구(Postman, Curl 등)에서도 **`Connection Timeout`**과 **`Read Timeout`**을 설정

HTTP 헤더에 포함되지 않음, 클라이언트 애플리케이션의 네트워크 소켓 레벨에서 설정, 클라이언트가 서버와의 연결 및 응답을 얼마나 오랫동안 기다릴지를 결정

**클라이언트 애플리케이션**: 사용자의 디바이스에서 실행되는 소프트웨어 프로그램. 예를 들어, 웹 브라우저, 모바일 앱, 데스크톱 애플리케이션 등이 여기에 포함, 서버에 데이터를 요청하거나, 서버에 데이터를 전송하기 위해 네트워크를 사용

네트워크 라이브러리나 API를 사용하여 소켓 레벨의 기능에 접근하고, 네트워크 연결을 설정하고 관리, 파이썬에서는 **`socket`** 라이브러리를 사용하여 소켓 프로그래밍을 할 수 있음

**네트워크 소켓 레벨**: 소켓은 컴퓨터 네트워크를 통해 데이터를 송수신하기 위한 엔드포인트, 네트워크 소켓 레벨은 특정 프로토콜 (예, TCP, UDP)을 사용하여 두 대의 컴퓨터가 네트워크를 통해 서로 통신할 수 있도록 하는 로우레벨의 인터페이스

엔드포인트: 네트워크 통신에서 데이터가 전송되거나 수신되는 장치나 애플리케이션의 종착점, 보통 IP 주소와 포트 번호의 조합으로 식별,

웹 서버는 보통 80번 포트에서 HTTP 요청을 수신하고, 443번 포트에서 HTTPS 요청을 수신합니다. 그러므로, 이 웹 서버의 HTTP 엔드포인트는 서버의 IP 주소와 80번 포트의 조합으로 식별

소켓: 컴퓨터 네트워크에서 데이터를 주고받기 위한 양쪽 끝점(endpoints)을 나타내는 프로그래밍 인터페이스, 주로 인터넷 프로토콜(IP)과 함께 사용, 일반적으로 IP 주소와 포트 번호의 조합으로 구성, 컴퓨터의 IP 주소가 '192.168.1.1'이고, 웹 서버 애플리케이션이 80번 포트에서 수신 중이라면, 해당 서버의 소켓 주소는 '192.168.1.1:80’

한 컴퓨터에서 다른 컴퓨터로 데이터를 전송하려면, 먼저 소켓을 생성해야 함, 데이터를 보내는 컴퓨터의 IP 주소와 포트 번호, 데이터를 받는 컴퓨터의 IP 주소와 포트 번호를 포함

프로그래밍 인터페이스: 소프트웨어 컴포넌트간에 상호작용을 가능하게 하는 규칙, 프로토콜, 도구들의 집합, 라이브러리, 운영체제, 서비스 또는 다른 소프트웨어의 일부로 제공될 수 있음

1. **함수와 메서드**: 프로그래밍 언어에서 사용할 수 있는 함수 또는 메서드의 집합.
2. **데이터 구조**: 데이터를 저장하고 조작하기 위한 구조.
3. **클래스와 객체**: 객체 지향 프로그래밍 언어에서 사용할 수 있는 클래스와 객체.

포트: 네트워크 서비스의 종단점, 컴퓨터에서 동작하는 각 서비스(예: HTTP 서버, FTP 서버, 이메일 서버 등)는 고유의 포트 번호를 가지고 있음

포트 사용 이유: 하나의 컴퓨터 또는 서버에서 여러 가지 서비스가 동시에 실행될 수 있음, 서비스들은 각각 다른 포트 번호를 사용하여 구분, IP 주소만으로는 데이터가 어떤 서비스로 전송되어야 하는지 결정할 수 없음, 하나의 서비스가 사용하는 포트는 수신용이며, 출력(송신)은 따로 정해진 포트가 없음

서버에서 웹 서버 애플리케이션(예: Apache), 이메일 서버 애플리케이션(예: Postfix), 데이터베이스 서버 애플리케이션(예: MySQL) 등이 동시에 실행될 수 있음, 각 서비스는 다른 포트 번호를 사용하여 네트워크 트래픽을 수신, 서버의 운영 체제는 네트워크 트래픽을 해당 포트에 연결된 서비스로 라우팅

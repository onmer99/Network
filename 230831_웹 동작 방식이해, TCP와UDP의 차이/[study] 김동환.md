# 웹사이트에 접속할 때 생기는 과정

- OSI 7계층 구조로 접근
    1. 7계층(응용계층)의 웹 브라우저에서, 사용자가 url을 입력하면 HTTP Request가 생성됨
    2. 생성된 Request는, 7~4계층을 거치며, 각 계층의 protocol에 의해서 encoding되고, tcp 세그먼트로 포장이 됨
    3. 세그먼트는 3계층(네트워크계층)에서 패킷으로 포장되고, 이 과정에서 라우터가 목적지까지의 최적의 경로를 설정해줌
    4. 패킷은 2계층의 NIC로 전달되고, 여기서 MAC 주소를 추가하여 프레임이 됨
    5. 이후 NIC에서 패킷을 전기적 신호로 변환하여 케이블, 리피터, 허브 등의 물리적 장치를 통해 전송하게 됨
    6. 목적지의 NIC에 도달한 전기적 신호는, 데이터 신호로 변환이 되고 MAC 주소를 확인받게 됨
    7. NIC를 통과한 데이터는 3계층(네트워크계층)에서 다시 IP 패킷으로 분해되고, 이때 컴퓨터나 서버 등에서 ip주소를 확인하고, 알맞은 목적지로 전달하게됨
    8. 4~7계층을 거쳐서 목적지에 도달한 정보가, 목적지의 서버에게 보여지게 됨
    9. 이후 똑같은 과정을 거쳐서 다시 클라이언트에게 정보가 전달되게 됨
<br>

- 웹 동작으로 접근
    1. 사용자가 웹 브라우저에서 url을 입력
    2. 입력된 url은, DNS 서버에 저장된 정보로 매핑되어 해당 서버의 ip주소로 변환됨
    ** DNS는, 실제로 data를 실어나르는 데이터 프로토콜이 잘 동작하도록 도와주는 Control 프로토콜이다
        ip주소는 최대 12자리로 구성되어 있는데, 사용자가 서로다른 웹사이트들의 ip주소를 외워서 사용하기는 힘들기 때문에, 의미있는 문자열로 구성된 도메인 주소를 사용
    3. 클라이언트에서 3-way handshake 방식을 사용하여 서버와의 연결을 생성함
    ** 3-way handshake : 서로 다른 3개의 패킷을, 클라이언트-서버-클라이언트 순서로 보내서, 서로 연결이 안전하게 잘 되어있는지를 확인하는 방법
    4. 연결이 생성되었다면, 클라이언트는 서버로 HTTP request를 보냄
    5. 서버에서는 request를 받고, 그에 대응하는 response를 클라이언트로 보냄
    6. 클라이언트에서는 response를 받아서 가공한 후, 웹브라우저를 통해 사용자에게 데이터를 보여줌
    
<br>
<br>

# TCP와 UDP의 차이는?

- 4계층 프로토콜
: TCP와 UDP는 4계층(전송계층)에서 사용되는 프로토콜로, 목적지에서 동작하는 여러가지 앱 프로세스중 통신해야할 프로세스를 정확히 찾아가도록 하고, 패킷 순서가 바뀌지 않도록 잘 조합하는 역할을 한다
<br>

- TCP와 UDP의 차이
    - TCP(Transmission Control Protocol)
        - 4계층 프로토콜의 특징을 대부분 포함하고, 데이터 전송을 보장한다
        - 패킷 순서와 응답번호인 시퀀스 번호와 ACK 번호를 설정
        - 상대방이 데이터를 잘 받았는지 확인하기위해, 슬라이딩 윈도우로 윈도우 사이즈를 조절
        - 3-way handshake를 사용하여 사전 연결작업을 진행
    - UDP(User Datagram Protocol)
        - 4계층 프로토콜의 특징이 거의 없고, 데이터 전송을 보장하지 않는다
        - TCP에 포함된 연결을 미리 확립하는 3-way handshake, 데이터 분할/조립을 위한 패킷의 순서인 시퀀스 번호, 응답 번호인 ACK 번호, 재전송 기능 등이 없음
        - 데이터를 전송하는데 신뢰성 보다는, 시간에 맞추어 계속 전송하는것이 중요한 단방향 서비스의 경우에 UDP를 사용함
